#############################################
#  Pasta pública (public/)
#############################################

# Arquivo padrão
DirectoryIndex index.php

# Impede listagem de diretórios
Options -Indexes

# --- 1) BLOQUEIOS ---------------------------------

# Bloqueia QUALQUER arquivo/pasta oculta (.git, .env, etc.)
<FilesMatch "^\.">
    Require all denied
</FilesMatch>

# Bloqueia todos os scripts PHP
<FilesMatch "\.php$">
    Require all denied
</FilesMatch>

# --- 2) EXCEÇÕES ----------------------------------

# Libera somente o index.php
<Files "index.php">
    Require all granted
</Files>

# Garante acesso a arquivos estáticos usuais
<FilesMatch "\.(js|css|png|jpe?g|gif|svg|webp|ico|woff2?|ttf|eot|otf)$">
    Require all granted
</FilesMatch>

# --- 3) CABEÇALHOS DE SEGURANÇA -------------------

<IfModule mod_headers.c>
    Header always append X-Frame-Options "SAMEORIGIN"
    Header set    X-Content-Type-Options "nosniff"
    Header set    X-XSS-Protection "1; mode=block"
</IfModule>
